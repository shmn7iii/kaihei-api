---
import Layout from "../layouts/Layout.astro";
import Online from "../components/Online.astro";
import Offline from "../components/Offline.astro";

import { getServerStatus } from "../lib/getServerStatus";

const serverStatus = await getServerStatus();
const mcServerHost = import.meta.env.PUBLIC_MC_SERVER_HOST;
---

<Layout>
  {serverStatus.Err ? <Offline serverStatus={serverStatus}, mcServerHost={mcServerHost} /> : <Online serverStatus={serverStatus}, mcServerHost={mcServerHost} />}
</Layout>
